var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(b,f,c){b instanceof String&&(b=String(b));for(var a=b.length,d=0;d<a;d++){var g=b[d];if(f.call(c,g,d,b))return{i:d,v:g}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(b,f,c){b!=Array.prototype&&b!=Object.prototype&&(b[f]=c.value)};$jscomp.getGlobal=function(b){return"undefined"!=typeof window&&window===b?b:"undefined"!=typeof global&&null!=global?global:b};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(b,f,c,a){if(f){c=$jscomp.global;b=b.split(".");for(a=0;a<b.length-1;a++){var d=b[a];d in c||(c[d]={});c=c[d]}b=b[b.length-1];a=c[b];f=f(a);f!=a&&null!=f&&$jscomp.defineProperty(c,b,{configurable:!0,writable:!0,value:f})}};$jscomp.polyfill("Array.prototype.find",function(b){return b?b:function(b,c){return $jscomp.findInternal(this,b,c).v}},"es6","es3");
(function(){function b(a){return"false"===a?!1:(a=a.match(/(http:|https:|)\/\/(player.|www.)?(vimeo\.com|youtu(be\.com|\.be|be\.googleapis\.com))\/(video\/|embed\/|watch\?v=|v\/)?([A-Za-z0-9._%-]*)(&\S+)?/))&&/youtu\.?be/g.test(a[3])?"youtube":a&&/vimeo/g.test(a[3])?"vimeo":!1}function f(a){return"false"===a?!1:(a=a.match(/(http:|https:|)\/\/(player.|www.)?(vimeo\.com|youtu(be\.com|\.be|be\.googleapis\.com))\/(video\/|embed\/|watch\?v=|v\/)?([A-Za-z0-9._%-]*)(&\S+)?/))?a[6]:!1}function c(a,b){var e=
new XMLHttpRequest;e.open("GET","https://vimeo.com/api/v2/video/"+a+".json",!0);e.onreadystatechange=function(){if(4===this.readyState&&200<=this.status&&400>this.status){var a=JSON.parse(this.responseText);b(a[0].thumbnail_large)}};e.send();e=null}var a,d,g="function"==typeof jQuery;g&&(a=jQuery);a?d=a("html").hasClass("is-builder"):d=document.querySelector("html").classList.contains("is-builder");var k=function(){var b={};return function(c){var e=a.Deferred();c in b?b[c]?e.resolve(b[c]):e.reject("Preview image not found."):
a("<img>").on("load",function(){if(120===(this.naturalWidth||this.width)){var a=this.src.split("/").pop();switch(a){case "maxresdefault.jpg":this.src=this.src.replace(a,"sddefault.jpg");break;case "sddefault.jpg":this.src=this.src.replace(a,"hqdefault.jpg");break;case "hqdefault.jpg":this.src=this.src.replace(a,"default.jpg");break;default:b[c]=null,e.reject("Preview image not found.")}}else e.resolve(b[c]=this.src)}).attr("src","https://img.youtube.com/vi/"+c+"/maxresdefault.jpg");return e}}();d&&
g&&(a.fn.outerFind=function(a){return this.find(a).addBack(a)},a(document).on("add.cards",function(d){if(a(d.target).hasClass("carousel")){var g=a("html").hasClass("desktop");a(d.target).outerFind("[data-bg-video-slide]").each(function(){var e=f(a(this).attr("data-bg-video-slide"));if(e){var d=a('<div class="mbr-background-video-preview"></div>').css({display:"none",backgroundSize:"cover",backgroundPosition:"center"});a(".container-slide",this).before(d);var l=b(a(this).attr("data-bg-video-slide")),
h=a(this).find(".mbr-overlay");"youtube"===l?(k(e).done(function(a){d.css("background-image",'url("'+a+'")').show()}),g&&a.fn.YTPlayer&&!a(this).find(".playerBox").length&&(a(".container-slide",this).before('<div class="mbr-background-video"></div>').prev().YTPlayer({videoURL:e,containment:"self",showControls:!1,mute:!0}),h.length&&a(".YTPOverlay",this).css({opacity:h.css("opacity"),backgroundColor:h.css("background-color")}),a(this).find(".image_wrapper img").css("opacity","0"),a(this).find(".image_wrapper .mbr-overlay").css("opacity",
"0"))):(c(e,function(a){d.css("background-image",'url("'+a+'")').show()}),g&&a.fn.vimeo_player&&!a(this).find(".playerBox").length&&(e=a(".container-slide",this).before('<div class="mbr-background-video"></div>').prev(),new Vimeo.Player(e),h.length&&a(".vimeo_player_overlay",this).css({opacity:h.css("opacity"),backgroundColor:h.css("background-color")})))}});a(d.target).find(".carousel-item iframe").css({transitionProperty:"opacity",transitionDuration:"1000ms"});a(this).on("slide.bs.carousel","section.carousel",
function(b){a(b.target).find(".carousel-item.active .mb_YTPlayer").each(function(){a(this).YTPPause()});a(b.target).find(".carousel-item.active .vimeo_player").each(function(){a(this).v_pause()});a(b.target).find(".carousel-item:not(.active) iframe").css("opacity",0)});a(this).on("slid.bs.carousel","section.carousel",function(b){a(b.target).find(".carousel-item.active .mb_YTPlayer").each(function(){a(this).YTPPlay()});a(b.target).find(".carousel-item.active .vimeo_player").each(function(){a(this).v_play()});
a(b.target).find(".carousel-item.active iframe").resize().css("opacity",1)})}}))})();
